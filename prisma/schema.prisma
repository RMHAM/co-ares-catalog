generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model f217a_page_channels {
  page_id        String         @db.Uuid
  channel_id     String         @db.Uuid
  channel_order  Int?           @db.SmallInt
  radio_channels radio_channels @relation(fields: [channel_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "f217a_page_channels_channel_FK")
  f217a_pages    f217a_pages    @relation(fields: [page_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "f217a_page_channels_page_FK")

  @@id([page_id, channel_id], map: "f217a_page_channels_pk")
  @@map("f217a_page_channels")
}

model f217a_pages {
  id                  String                @id(map: "f217a_pages_pk") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  page_owner          String                @db.Uuid
  frequency_band      String                @db.VarChar
  f217a_page_channels f217a_page_channels[]
  organizations       organizations         @relation(fields: [page_owner], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "f217a_page_owner_FK")

  @@map("f217a_pages")
}

model organizations {
  id                  String           @id(map: "organizations_pk") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name                String           @db.VarChar
  type                org_type
  parent              String?          @db.Uuid
  f217a_pages         f217a_pages[]
  organizations       organizations?   @relation("organizationsToorganizations", fields: [parent], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "org_parent_fk")
  other_organizations organizations[]  @relation("organizationsToorganizations")
  radio_channels      radio_channels[]
}

model radio_channels {
  id                  String                @id(map: "radio_channels_pk") @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  channel_owner       String                @db.Uuid
  name                String                @db.VarChar
  eligible_users      String?               @db.VarChar
  rx_freq             Float?
  rx_width            String?               @db.Char(1)
  rx_tone             String?               @db.VarChar
  tx_freq             Float?
  tx_width            String?               @db.Char(1)
  tx_tone             String?               @db.VarChar
  mode                String?               @db.VarChar
  remarks             String?               @db.VarChar
  config              String?               @db.VarChar
  f217a_page_channels f217a_page_channels[]
  organizations       organizations         @relation(fields: [channel_owner], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "radio_channel_owner_fk")
}

enum org_type {
  section
  region
  district
}
